:root {
    --primary: #2563eb;
    --primary-soft: #eff6ff;
    --enemy: #dc2626;
    --enemy-soft: #fef2f2;
    --success: #059669;
    --success-soft: #ecfdf5;
    --warning: #f59e0b;
    --warning-soft: #fffbeb;
    --bg: #f8fafc;
    --card: #ffffff;
    --text: #1e293b;
    --text-light: #64748b;
    --border: #e2e8f0;
}

body {
    margin: 0;
    font-family: 'Noto Sans JP', sans-serif;
    background-color: var(--bg);
    color: var(--text);
    line-height: 1.5;
}

.app-container { max-width: 1000px; margin: 0 auto; padding: 24px 16px; }
.hidden { display: none !important; }

.main-header { margin-bottom: 24px; border-bottom: 1px solid var(--border); padding-bottom: 16px; }
.title-area { display: flex; justify-content: space-between; align-items: center; gap: 16px; flex-wrap: wrap; }
h1 { font-size: 1.4rem; margin: 0; font-weight: 800; color: var(--primary); }

.mode-selector { display: flex; background: #e2e8f0; padding: 4px; border-radius: 10px; }
.mode-btn { border: none; padding: 8px 16px; border-radius: 7px; font-size: 0.85rem; font-weight: 700; cursor: pointer; color: var(--text-light); background: transparent; transition: 0.2s; }
.mode-btn.active { background: var(--card); color: var(--primary); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

.content-grid { display: grid; grid-template-columns: 1fr 320px; gap: 24px; align-items: start; }
.input-area { display: flex; flex-direction: column; gap: 24px; }
@media (max-width: 850px) { .content-grid { grid-template-columns: 1fr; } }

.card { background: var(--card); border-radius: 12px; border: 1px solid var(--border); padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
.card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; border-bottom: 2px solid var(--border); padding-bottom: 8px; }
.ally-border { border-color: var(--primary); }
.enemy-border { border-color: var(--enemy); }

.unit-row { display: flex; gap: 8px; margin-bottom: 10px; align-items: center; }
input { padding: 10px; border: 1px solid var(--border); border-radius: 6px; font-size: 0.95rem; width: 100%; transition: border-color 0.2s; }
input:focus { outline: none; border-color: var(--primary); background: var(--primary-soft); }
.input-spd { width: 85px; text-align: center; font-weight: 700; flex-shrink: 0; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; }
input[type=number] { -moz-appearance: textfield; }

.add-btn { width: 100%; padding: 10px; border-radius: 8px; font-weight: 700; cursor: pointer; border: 1px dashed var(--border); background: #fff; color: var(--text-light); transition: 0.2s; }
.add-btn:hover:not(:disabled) { border-color: var(--primary); color: var(--primary); background: var(--primary-soft); }
.del-btn { background: none; border: none; color: #cbd5e1; cursor: pointer; font-size: 1.2rem; width: 30px; }
.del-btn:hover:not(:disabled) { color: var(--enemy); }
.del-btn:disabled { opacity: 0; cursor: default; }

.sticky-side { position: sticky; top: 20px; }
.main-result-container { 
    padding: 24px 16px; border-radius: 12px; text-align: center; margin-bottom: 20px; 
    background: #f1f5f9; transition: background 0.4s ease; 
}
.main-value { 
    font-size: 2.8rem; font-weight: 800; line-height: 1; margin-bottom: 12px; 
    font-family: 'Inter', sans-serif; transition: color 0.3s ease;
}
.status-badge { display: inline-block; padding: 4px 14px; border-radius: 20px; font-size: 0.75rem; font-weight: 800; transition: background 0.3s ease, color 0.3s ease; }
.status-badge.active { background: var(--success); color: #fff; }
.status-badge.danger { background: var(--enemy); color: #fff; }
.status-badge.info { background: var(--primary); color: #fff; }
.status-badge.warning { background: var(--warning); color: #fff; }

.ranking-content { display: flex; flex-direction: column; gap: 6px; }
.rank-item { 
    display: flex; justify-content: space-between; padding: 10px 12px; 
    background: #fff; border: 1px solid var(--border); border-radius: 8px; 
    font-size: 0.85rem; 
}
.is-ally { border-left: 4px solid var(--primary); }
.is-enemy { border-left: 4px solid var(--enemy); }
.u-info { font-weight: 700; }
.u-spd-val { font-weight: 700; }